<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>Gin å…¥é—¨</title>
  
  <link rel="canonical" href="http://mykonos-x.github.io/2023/10/19/Gin-%E5%85%A5%E9%97%A8/">
  
  <meta name="description" content="ï¼šå…³äºGinéƒ¨åˆ†çš„å†…å®¹ä¸ºç¬”è€…å¹´åˆæ‰€å†™ å¹´åˆå¼€å§‹è¸‰è¸‰è·„è·„åœ°å­¦Golangçš„åç«¯æ¡†æ¶Ginäº†ï¼Œå¦‚æœæ˜¯å­¦è¿‡Javaåç«¯çš„äººæ¥è¯´åº”è¯¥å­¦Goå’ŒGinå¾ˆå¿«ï¼Œä½†æ˜¯æ€ä¹ˆè¯´å‘¢ï¼Œç¬”è€…çš„Javaå’Œå½“æ—¶å­¦çš„åç«¯å­¦çš„ä¾æ‰˜ç­”è¾©ï¼Œæ‰€ä»¥å­¦Golangå’ŒGinçš„æ—¶å€™ç›¸å½“äºä¹Ÿåœ¨æ¡èµ·ä»¥å‰çš„ä¸€äº›çŸ¥è¯†ï¼ŒåŠ ä¸Šç¬”è€…è‡ªè®¤ä¸ºä¸æ˜¯å¤©èµ‹å‹é€‰æ‰‹ï¼Œæ„Ÿè§‰è‡ªå·±">
  
  
  <meta name="author" content="ymepetb">
  
  
  
  <meta property="og:site_name" content="Silence to hear." />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Gin å…¥é—¨" />
  
  <meta property="og:description" content="ï¼šå…³äºGinéƒ¨åˆ†çš„å†…å®¹ä¸ºç¬”è€…å¹´åˆæ‰€å†™ å¹´åˆå¼€å§‹è¸‰è¸‰è·„è·„åœ°å­¦Golangçš„åç«¯æ¡†æ¶Ginäº†ï¼Œå¦‚æœæ˜¯å­¦è¿‡Javaåç«¯çš„äººæ¥è¯´åº”è¯¥å­¦Goå’ŒGinå¾ˆå¿«ï¼Œä½†æ˜¯æ€ä¹ˆè¯´å‘¢ï¼Œç¬”è€…çš„Javaå’Œå½“æ—¶å­¦çš„åç«¯å­¦çš„ä¾æ‰˜ç­”è¾©ï¼Œæ‰€ä»¥å­¦Golangå’ŒGinçš„æ—¶å€™ç›¸å½“äºä¹Ÿåœ¨æ¡èµ·ä»¥å‰çš„ä¸€äº›çŸ¥è¯†ï¼ŒåŠ ä¸Šç¬”è€…è‡ªè®¤ä¸ºä¸æ˜¯å¤©èµ‹å‹é€‰æ‰‹ï¼Œæ„Ÿè§‰è‡ªå·±">
  
  <meta property="og:url" content="http://mykonos-x.github.io/2023/10/19/Gin-%E5%85%A5%E9%97%A8/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Gin å…¥é—¨">
  
  <meta name="twitter:description" content="ï¼šå…³äºGinéƒ¨åˆ†çš„å†…å®¹ä¸ºç¬”è€…å¹´åˆæ‰€å†™ å¹´åˆå¼€å§‹è¸‰è¸‰è·„è·„åœ°å­¦Golangçš„åç«¯æ¡†æ¶Ginäº†ï¼Œå¦‚æœæ˜¯å­¦è¿‡Javaåç«¯çš„äººæ¥è¯´åº”è¯¥å­¦Goå’ŒGinå¾ˆå¿«ï¼Œä½†æ˜¯æ€ä¹ˆè¯´å‘¢ï¼Œç¬”è€…çš„Javaå’Œå½“æ—¶å­¦çš„åç«¯å­¦çš„ä¾æ‰˜ç­”è¾©ï¼Œæ‰€ä»¥å­¦Golangå’ŒGinçš„æ—¶å€™ç›¸å½“äºä¹Ÿåœ¨æ¡èµ·ä»¥å‰çš„ä¸€äº›çŸ¥è¯†ï¼ŒåŠ ä¸Šç¬”è€…è‡ªè®¤ä¸ºä¸æ˜¯å¤©èµ‹å‹é€‰æ‰‹ï¼Œæ„Ÿè§‰è‡ªå·±">
  
  
  
  
  <meta name="twitter:url" content="http://mykonos-x.github.io/2023/10/19/Gin-%E5%85%A5%E9%97%A8/" />

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="/fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  
  
<link rel="stylesheet" href="/css/user.css">

  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #7cc1df;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #7cc1df 50%
    );
  }
  blockquote {
    border-left: 8px solid #7cc1df;
  }
  .nanobar .bar {
    background: #7cc1df;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #7cc1df;
    border-color: #7cc1df;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #7cc1df;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

  
  <script src="/js/pic.min.js" defer></script>
  

  

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">ğŸŒ‘</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>â˜€ï¸</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      Hi there.
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">Home</a>
        
          
          <a href="/about" class="ml">About</a>
          
        
        
          
            <a href="mailto:g0dzirrazhou@gmail.com" target="_blank" class="ml">Email</a>
          
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>Gin å…¥é—¨</h2>

  <p>ï¼šå…³äºGinéƒ¨åˆ†çš„å†…å®¹ä¸ºç¬”è€…å¹´åˆæ‰€å†™</p>
<p>å¹´åˆå¼€å§‹è¸‰è¸‰è·„è·„åœ°å­¦Golangçš„åç«¯æ¡†æ¶<code>Gin</code>äº†ï¼Œå¦‚æœæ˜¯å­¦è¿‡Javaåç«¯çš„äººæ¥è¯´åº”è¯¥å­¦Goå’ŒGinå¾ˆå¿«ï¼Œä½†æ˜¯æ€ä¹ˆè¯´å‘¢ï¼Œç¬”è€…çš„Javaå’Œå½“æ—¶å­¦çš„åç«¯å­¦çš„ä¾æ‰˜ç­”è¾©ï¼Œæ‰€ä»¥å­¦<code>Golang</code>å’Œ<code>Gin</code>çš„æ—¶å€™ç›¸å½“äºä¹Ÿåœ¨æ¡èµ·ä»¥å‰çš„ä¸€äº›çŸ¥è¯†ï¼ŒåŠ ä¸Šç¬”è€…è‡ªè®¤ä¸ºä¸æ˜¯å¤©èµ‹å‹é€‰æ‰‹ï¼Œæ„Ÿè§‰è‡ªå·±å­¦ä¹ çš„è¿›åº¦ä¹Ÿæ¯”è¾ƒæ…¢ï¼Œäº‰å–åœ¨åæœŸæ›´åŠ æ³¨é‡è‡ªå·±çš„å­¦ä¹ æ•ˆç‡é—®é¢˜</p>
<!-- toc -->
<ul class="lvl-0">
<li class="lvl-2">
<p><a href="#%E6%9E%84%E5%BB%BA%E8%B7%AF%E7%94%B1">æ„å»ºè·¯ç”±</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E5%93%8D%E5%BA%94json%E8%AF%B7%E6%B1%82">å“åº”JSONè¯·æ±‚</a></p>
</li>
<li class="lvl-2">
<p><a href="#cjson">c.JSON()</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E5%93%8D%E5%BA%94josnp%E8%AF%B7%E6%B1%82">å“åº”JOSNPè¯·æ±‚</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E6%A8%A1%E6%9D%BF-template">æ¨¡æ¿ template</a></p>
</li>
<li class="lvl-2">
<p><a href="#gin%E6%A8%A1%E6%9D%BF%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">Ginæ¨¡æ¿åŸºæœ¬è¯­æ³•</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0">é¢„å®šä¹‰å‡½æ•°</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E6%9D%BF%E5%87%BD%E6%95%B0">è‡ªå®šä¹‰æ¨¡æ¿å‡½æ•°</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E5%85%AC%E5%85%B1%E6%A8%A1%E6%9D%BF%E5%B5%8C%E5%A5%97template">å…¬å…±æ¨¡æ¿(åµŒå¥—template)</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E9%9D%99%E6%80%81web%E6%9C%8D%E5%8A%A1">é™æ€webæœåŠ¡</a></p>
</li>
<li class="lvl-2">
<p><a href="#gin%E8%8E%B7%E5%8F%96%E6%9F%A5%E8%AF%A2%E5%8F%82%E6%95%B0">Ginè·å–æŸ¥è¯¢å‚æ•°</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E8%8E%B7%E5%8F%96post%E5%8F%82%E6%95%B0">è·å–POSTå‚æ•°</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E8%8E%B7%E5%8F%96get-post%E4%BC%A0%E9%80%92%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E5%88%B0%E7%BB%93%E6%9E%84%E4%BD%93">è·å–GET POSTä¼ é€’çš„æ•°æ®ç»‘å®šåˆ°ç»“æ„ä½“</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E8%8E%B7%E5%8F%96post-xml%E7%9A%84%E6%95%B0%E6%8D%AE">è·å–POST XMLçš„æ•°æ®</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E9%85%8D%E7%BD%AE%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1">é…ç½®åŠ¨æ€è·¯ç”±</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E8%B7%AF%E7%94%B1%E5%88%86%E7%BB%84-%E8%B7%AF%E7%94%B1%E6%96%87%E4%BB%B6%E6%8A%BD%E7%A6%BB">è·¯ç”±åˆ†ç»„ | è·¯ç”±æ–‡ä»¶æŠ½ç¦»</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E6%8E%A7%E5%88%B6%E5%99%A8%E6%8A%BD%E7%A6%BB">æ§åˆ¶å™¨æŠ½ç¦»</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E6%8E%A7%E5%88%B6%E5%99%A8%E7%BB%A7%E6%89%BF">æ§åˆ¶å™¨ç»§æ‰¿</a></p>
</li>
<li class="lvl-2">
<p><a href="#gin%E4%B8%AD%E9%97%B4%E4%BB%B6">Ginä¸­é—´ä»¶</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">æ–‡ä»¶ä¸Šä¼ </a></p>
</li>
<li class="lvl-2">
<p><a href="#cookie">Cookie</a></p>
</li>
<li class="lvl-2">
<p><a href="#%E5%A4%9A%E4%B8%AA%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E5%85%B1%E4%BA%ABcookie">å¤šä¸ªäºŒçº§åŸŸåå…±äº«Cookie</a></p>
</li>
<li class="lvl-2">
<p><a href="#session">Session</a></p>
</li>
</ul>
<!-- tocstop -->
<h3><span id="æ„å»ºè·¯ç”±">æ„å»ºè·¯ç”±</span></h3>
<p>RESTful APIæ˜¯ç›®å‰æ¯”è¾ƒæˆç†Ÿçš„ä¸€å¥—äº’è”ç½‘åº”ç”¨ç¨‹åºçš„APIè®¾è®¡ç†è®ºï¼Œè®¾è®¡æˆ‘ä»¬çš„è·¯ç”±æ—¶å»ºè®®å‚è€ƒRESTful APIæŒ‡å—</p>
<p>åœ¨RESTfulæ¶æ„ä¸­ï¼Œæ¯ä¸ªç½‘ç«™ä»£è¡¨ä¸€ç§èµ„æºï¼Œä¸åŒçš„è¯·æ±‚æ–¹å¼è¡¨ç¤ºæ‰§è¡Œä¸åŒçš„æ“ä½œ</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>ä»æœåŠ¡å™¨å–å‡ºèµ„æº(ä¸€é¡¹æˆ–å¤šé¡¹)</td>
</tr>
<tr>
<td>POST</td>
<td>åœ¨æœåŠ¡å™¨æ–°å»ºä¸€ä¸ªèµ„æº</td>
</tr>
<tr>
<td>PUT</td>
<td>åœ¨æœåŠ¡å™¨æ›´æ–°èµ„æº(å®¢æˆ·ç«¯æä¾›æ”¹å˜åå®Œæ•´çš„èµ„æº)</td>
</tr>
<tr>
<td>DELETE</td>
<td>ä»æœåŠ¡å™¨åˆ é™¤èµ„æº</td>
</tr>
</tbody>
</table>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"github.com/gin-gonic/gin"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">//åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„è·¯ç”±å¼•æ“</span>
	r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// é…ç½®è·¯ç”±</span>
	r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"æ ¹ç›®å½•"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/news"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"æ–°é—»é¡µé¢"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	r<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">"/posturl"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"è¿™æ˜¯ä¸€ä¸ªPOSTè¿”å›æ•°æ®"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

	<span class="token comment">// å¯åŠ¨HTTPæœåŠ¡ï¼Œé»˜è®¤åœ¨8080ç«¯å£</span>
	r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token comment">// å¦‚æœéœ€è¦çƒ­åŠ è½½çš„è¯éœ€è¦å®‰è£…fresh</span>
<span class="token punctuation">&#125;</span> 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="å“åº”jsonè¯·æ±‚">å“åº”JSONè¯·æ±‚</span></h3>
<h3><span id="cjson">c.JSON()</span></h3>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/json1"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span>
			<span class="token string">"success"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token string">"msg"</span><span class="token punctuation">:</span>     <span class="token string">"This is json1"</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

	r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/json2"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span> <span class="token comment">//æ­¤å¤„éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªçŠ¶æ€ç ï¼Œä¸€ä¸ªmapç±»å‹çš„ç©ºæ¥å£ï¼Œä¹Ÿå¯ä»¥ç”¨gin.H,Hæ˜¯map[string]interface&#123;&#125; çš„å¿«æ·æ–¹å¼</span>
			<span class="token string">"success"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token string">"msg"</span><span class="token punctuation">:</span>     <span class="token string">"This is json2"</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4><span id="ginh">gin.H{}</span></h4>
<p>åœ¨ä¸Šè¿°å“åº”JSONè¯·æ±‚ä¸­æˆ‘ä»¬ä½¿ç”¨<code>gin.H&#123;&#125;</code>è¿™ä¸ªç±»å‹æ„é€ äº†ä¸€ä¸ªé”®å€¼å¯¹è±¡ï¼Œ<code>gin.H&#123;&#125;</code>æ˜¯ä¸€ä¸ª<code>map[string]interface&#123;&#125;</code>,è¯¥ç±»å‹å¸®åŠ©å¼€å‘è€…å¾ˆæ–¹ä¾¿çš„æ„å»ºå‡ºä¸€ä¸ªmapå¯¹è±¡ï¼Œä¸åªç”¨äº<code>c.JSON</code>æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨äºå…¶ä»–åœºæ™¯</p>
<h3><span id="å“åº”josnpè¯·æ±‚">å“åº”JOSNPè¯·æ±‚</span></h3>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/jsonp"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	c<span class="token punctuation">.</span><span class="token function">JSONP</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>
		<span class="token string">"success"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">"msg"</span><span class="token punctuation">:</span>     <span class="token string">"This is jsonp"</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4><span id="ä»€ä¹ˆæ˜¯jsonp">ä»€ä¹ˆæ˜¯JSONP</span></h4>
<p>JSONPæ˜¯ä¸€ç§è·¨åŸŸæ•°æ®è®¿é—®æŠ€æœ¯ï¼Œå®ƒå…è®¸åœ¨ä¸€ä¸ªåŸŸåä¸‹ä½¿ç”¨è„šæœ¬æ¥è·å–æ¥è‡ªå¦ä¸€ä¸ªåŸŸåä¸‹çš„JSONæ•°æ®ï¼Œé€šå¸¸ç”¨äºç¬¬ä¸‰æ”¾æœåŠ¡è·å–æ•°æ®</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åªæ”¯æŒGET</p>
</li>
</ul>
<p>JSONPçš„åŸºæœ¬åˆ©ç”¨åŸç†æ˜¯åˆ©ç”¨scriptæ ‡ç­¾çš„è·¨åŸŸç‰¹æ€§ï¼Œé€šè¿‡åŠ¨æ€åˆ›å»ºscriptæ ‡ç­¾ï¼Œä»¥URLçš„å½¢å¼åŠ è½½è¿œç¨‹çš„JSONæ•°æ®ï¼Œé€šè¿‡æ‰§è¡Œå›è°ƒå‡½æ•°çš„æ–¹å¼å°†è·å–åˆ°çš„JSONæ•°æ®ä¼ åˆ°å®¢æˆ·ç«¯</p>
<blockquote>
<p>æ€»çš„æ¥è¯´ï¼ŒJSONæ˜¯ä¸€ç§æ•°æ®æ ¼å¼ï¼ŒJSONPæ˜¯ä¸€ç§æ•°æ®ä¼ è¾“åè®®ã€‚JSONPæ˜¯ä¸€ç§ä¸ºè§£å†³è·¨åŸŸè®¿é—®æ•°æ®è€Œç”Ÿçš„ä¸€ç§æŠ€æœ¯æ–¹æ¡ˆ</p>
</blockquote>
<h3><span id="æ¨¡æ¿-template">æ¨¡æ¿ template</span></h3>
<h4><span id="æ¨¡æ¿æ”¾åœ¨ä¸åŒç›®å½•é‡Œé¢çš„é…ç½®æ–¹æ³•">æ¨¡æ¿æ”¾åœ¨ä¸åŒç›®å½•é‡Œé¢çš„é…ç½®æ–¹æ³•</span></h4>
<p>Ginæ¡†æ¶å¦‚æœä¸åŒç›®å½•ä¸‹æœ‰åŒåçš„æ¨¡æ¿çš„è¯æˆ‘ä»¬éœ€è¦ç”¨<code>define</code>ååŠ©å®šä¹‰</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&#123;&#123;define "admin/index.html"&#125;&#125;

xxx

&#123;&#123;end&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç›¸å½“äºç»™æ¨¡æ¿å®šä¹‰ä¸€ä¸ªåå­—ï¼Œdefine endæˆå¯¹å‡ºç°</p>
<h3><span id="ginæ¨¡æ¿åŸºæœ¬è¯­æ³•">Ginæ¨¡æ¿åŸºæœ¬è¯­æ³•</span></h3>
<h4><span id="è¾“å‡ºæ•°æ®">è¾“å‡ºæ•°æ®</span></h4>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4><span id="æ¯”è¾ƒå‡½æ•°">æ¯”è¾ƒå‡½æ•°</span></h4>
<table>
<thead>
<tr>
<th>æ¯”è¾ƒå‡½æ•°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>eq</td>
<td>å¦‚æœarg1 == arg2ï¼Œè¿”å›true</td>
</tr>
<tr>
<td>ne</td>
<td>å¦‚æœarg1 != arg2ï¼Œè¿”å›true</td>
</tr>
<tr>
<td>lt</td>
<td>å¦‚æœarg1 &lt; arg2ï¼Œè¿”å›true</td>
</tr>
<tr>
<td>le</td>
<td>å¦‚æœarg1 &lt;= arg2ï¼Œè¿”å›true</td>
</tr>
<tr>
<td>gt</td>
<td>å¦‚æœarg1 &gt; arg2ï¼Œè¿”å›true</td>
</tr>
<tr>
<td>ge</td>
<td>å¦‚æœarg1 &gt;= arg2ï¼Œè¿”å›true</td>
</tr>
</tbody>
</table>
<h4><span id="æ¡ä»¶åˆ¤æ–­">æ¡ä»¶åˆ¤æ–­</span></h4>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> pipeline<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> T1 <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>end<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> pipeline<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> T1 <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token keyword">else</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> T0 <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>end<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> pipeline<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> T1 <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token keyword">else</span> <span class="token keyword">if</span> pipeline<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> T0 <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token keyword">else</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> T2 <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>end<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4><span id="å¾ªç¯">å¾ªç¯</span></h4>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token keyword">range</span> $key<span class="token punctuation">,</span>$value <span class="token operator">:=</span> <span class="token punctuation">.</span>obj<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>$value<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token keyword">else</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>pipelineçš„å€¼å…¶é•¿åº¦ä¸º<span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>end<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å®ä¾‹</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	c<span class="token punctuation">.</span><span class="token function">HTML</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"admin/login.html"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span>
		<span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"è¿™æ˜¯adminé¦–é¡µ"</span><span class="token punctuation">,</span>
		<span class="token string">"score"</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
		<span class="token string">"hobby"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token string">"åƒé¥­"</span><span class="token punctuation">,</span> <span class="token string">"ç¡è§‰"</span><span class="token punctuation">,</span> <span class="token string">"å†™ä»£ç "</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token comment">//åˆ›å»ºæ•°ç»„</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    &#123;&#123;range $key,$value := .hobby&#125;&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>&#123;&#123;$key&#125;&#125; : &#123;&#123;$value&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    &#123;&#123;end&#125;&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://pic.imgdb.cn/item/63f0f8bff144a01007863734.jpg" alt></p>
<h4><span id="ç»“æ„ä½“å¾ªç¯æ‰“å°">ç»“æ„ä½“å¾ªç¯æ‰“å°</span></h4>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/dnews"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	news <span class="token operator">:=</span> <span class="token operator">&amp;</span>Article<span class="token punctuation">&#123;</span>
		Title<span class="token punctuation">:</span>   <span class="token string">"è§‚ä¼—çœ‹åˆ°çš„æ–°é—»æ ‡é¢˜"</span><span class="token punctuation">,</span>
		Content<span class="token punctuation">:</span> <span class="token string">"è§‚ä¼—çœ‹åˆ°çš„æ–°é—»å†…å®¹"</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	c<span class="token punctuation">.</span><span class="token function">HTML</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"default/news.html"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span>
		<span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"è¿™æ˜¯defaultæ–°é—»é¡µé¢"</span><span class="token punctuation">,</span>
		<span class="token string">"news"</span><span class="token punctuation">:</span>  news<span class="token punctuation">,</span>
		<span class="token string">"newslist"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span> <span class="token comment">//å®šä¹‰äº†ä¸€ä¸ªç©ºæ¥å£ï¼Œç”¨äºå­˜ç»“æ„ä½“</span>
			<span class="token operator">&amp;</span>Article<span class="token punctuation">&#123;</span>
				Title<span class="token punctuation">:</span>   <span class="token string">"è§‚ä¼—çœ‹åˆ°çš„æ–°é—»æ ‡é¢˜-1"</span><span class="token punctuation">,</span>
				Content<span class="token punctuation">:</span> <span class="token string">"è§‚ä¼—çœ‹åˆ°çš„æ–°é—»å†…å®¹-1"</span><span class="token punctuation">,</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			<span class="token operator">&amp;</span>Article<span class="token punctuation">&#123;</span>
				Title<span class="token punctuation">:</span>   <span class="token string">"è§‚ä¼—çœ‹åˆ°çš„æ–°é—»æ ‡é¢˜-2"</span><span class="token punctuation">,</span>
				Content<span class="token punctuation">:</span> <span class="token string">"è§‚ä¼—çœ‹åˆ°çš„æ–°é—»å†…å®¹-2"</span><span class="token punctuation">,</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    &#123;&#123;range $key, $value := .newslist&#125;&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>&#123;&#123;$key&#125;&#125; &#123;&#123;$value.Title&#125;&#125; : &#123;&#123;$value.Content&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    &#123;&#123;end&#125;&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://pic.imgdb.cn/item/63f0fb23f144a010078a4f7a.jpg" alt></p>
<h4><span id="with">with</span></h4>
<p>è§£æ„ç»“æ„ä½“</p>
<h3><span id="é¢„å®šä¹‰å‡½æ•°">é¢„å®šä¹‰å‡½æ•°</span></h3>
<p>æ‰§è¡Œæ¨¡æ¿æ—¶ï¼Œå‡½æ•°ä»ä¸¤ä¸ªå‡½æ•°å­—å…¸ä¸­æŸ¥æ‰¾ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>æ¨¡æ¿å‡½æ•°å­—å…¸</p>
</li>
<li class="lvl-2">
<p>å…¨å±€å‡½æ•°å­—å…¸</p>
</li>
</ul>
<p>ä¸€èˆ¬ä¸åœ¨æ¨¡æ¿å†…å®šä¹‰å‡½æ•°ï¼Œè€Œæ˜¯ä½¿ç”¨<code>Funcs</code>æ–¹æ³•æ·»åŠ å‡½æ•°åˆ°æ¨¡æ¿é‡Œ</p>
<h4><span id="add">add</span></h4>
<p>å‡½æ•°è¿”å›å®ƒçš„ç¬¬ä¸€ä¸ªç©ºå‚æ•°æˆ–è€…æœ€åä¸€ä¸ªå‚æ•°</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">and x y <span class="token operator">&lt;=</span><span class="token operator">></span> <span class="token keyword">if</span> x then y <span class="token keyword">else</span> x<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4><span id="or">or</span></h4>
<p>è¿”å›ç¬¬ä¸€ä¸ªéç©ºå‚æ•°æˆ–è€…æœ€åä¸€ä¸ªå‚æ•°</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">or x y <span class="token operator">&lt;=</span><span class="token operator">></span> <span class="token keyword">if</span> x then x <span class="token keyword">else</span> y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4><span id="not">not</span></h4>
<p>è¿”å›å®ƒå•ä¸ªå‚æ•°çš„å¸ƒå°”å¦å®šå€¼</p>
<h4><span id="len">len</span></h4>
<p>è¿”å›å®ƒçš„å‚æ•°çš„ç±»å‹é•¿åº¦</p>
<h4><span id="index">index</span></h4>
<p>æ‰§è¡Œç»“æœä¸º ç¬¬ä¸€ä¸ªå‚æ•°ä»¥å‰©ä¸‹çš„å‚æ•°ä¸ºç´¢å¼•/é”® æŒ‡å‘çš„å€¼</p>
<h3><span id="è‡ªå®šä¹‰æ¨¡æ¿å‡½æ•°">è‡ªå®šä¹‰æ¨¡æ¿å‡½æ•°</span></h3>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//æå‰å†™å¥½è‡ªå®šä¹‰å‡½æ•°</span>
<span class="token keyword">func</span> <span class="token function">UnixToTime</span><span class="token punctuation">(</span>timestamp <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
	t <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Unix</span><span class="token punctuation">(</span><span class="token function">int64</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> t<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">"2006-01-02 15:04:05"</span><span class="token punctuation">)</span> <span class="token comment">//æ³¨æ„è¿™æ˜¯å›ºå®šçš„æ ¼å¼</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">//è‡ªå®šä¹‰å‡½æ•° ï¼šæ”¾åœ¨åˆ›å»ºé»˜è®¤è·¯ç”±å¼•æ“åï¼ŒåŠ è½½æ¨¡æ¿å‰</span>
	r<span class="token punctuation">.</span><span class="token function">SetFuncMap</span><span class="token punctuation">(</span>template<span class="token punctuation">.</span>FuncMap<span class="token punctuation">&#123;</span>
		<span class="token string">"UnixToTime"</span><span class="token punctuation">:</span> UnixToTime<span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token comment">//åŠ è½½æ¨¡æ¿</span>
	r<span class="token punctuation">.</span><span class="token function">LoadHTMLGlob</span><span class="token punctuation">(</span><span class="token string">"templates/*/*"</span><span class="token punctuation">)</span>
	
	r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		c<span class="token punctuation">.</span><span class="token function">HTML</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"admin/login.html"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span>
			<span class="token string">"title"</span><span class="token punctuation">:</span>    <span class="token string">"è¿™æ˜¯adminé¦–é¡µ"</span><span class="token punctuation">,</span>
			<span class="token string">"score"</span><span class="token punctuation">:</span>    <span class="token number">80</span><span class="token punctuation">,</span>
			<span class="token string">"hobby"</span><span class="token punctuation">:</span>    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token string">"åƒé¥­"</span><span class="token punctuation">,</span> <span class="token string">"ç¡è§‰"</span><span class="token punctuation">,</span> <span class="token string">"å†™ä»£ç "</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token comment">//åˆ›å»ºæ•°ç»„</span>
			<span class="token string">"unixtime"</span><span class="token punctuation">:</span> <span class="token number">1676777941</span><span class="token punctuation">,</span> <span class="token comment">//ä¼ å…¥unixæ—¶é—´æˆ³æ•°æ®</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>éœ€è¦æ³¨æ„çš„ç‚¹æ˜¯è‡ªå®šä¹‰å‡½æ•°å£°æ˜çš„ä½ç½® ï¼š æ”¾åœ¨åˆ›å»ºé»˜è®¤è·¯ç”±å¼•æ“åï¼ŒåŠ è½½æ¨¡æ¿å‰</p>
<h3><span id="å…¬å…±æ¨¡æ¿åµŒå¥—template">å…¬å…±æ¨¡æ¿(åµŒå¥—template)</span></h3>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&#123;&#123;define "public/PageHeader.html"&#125;&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
    <span class="token selector">h1</span><span class="token punctuation">&#123;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span> Welcome to my world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
&#123;&#123;end&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&#123;&#123;define "default/index.html"&#125;&#125;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    &#123;&#123;template "public/PageHeader.html"&#125;&#125; 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>--!--</span><span class="token punctuation">></span></span>æ­¤å¤„åµŒå¥—äº†template "public/PageHeader.html"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>--!--</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>This is Default index.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>&#123;&#123;.title&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    &#123;&#123;template "public/PageFooter.html"&#125;&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>

&#123;&#123;end&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>index.html</p>
<p><img src="https://pic.imgdb.cn/item/63f1ae8ff144a01007663a53.jpg" alt></p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&#123;&#123;define "admin/login.html"&#125;&#125;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    &#123;&#123;template "public/PageHeader.html"&#125;&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>This is Admin login.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>&#123;&#123;.title&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- æ¡ä»¶åˆ¤æ–­ --></span>
    &#123;&#123;if ge .score 60&#125;&#125;
    åŠæ ¼äº†æ
    &#123;&#123;else&#125;&#125;
    ä¸åŠæ ¼å“¦
    &#123;&#123;end&#125;&#125;
    <span class="token comment">&lt;!-- å¾ªç¯ --></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        &#123;&#123;range $key,$value := .hobby&#125;&#125;
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>&#123;&#123;$key&#125;&#125; : &#123;&#123;$value&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
        &#123;&#123;end&#125;&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
    &#123;&#123;.unixtime&#125;&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
    &#123;&#123;UnixToTime .unixtime&#125;&#125;
    &#123;&#123;template "public/PageFooter.html"&#125;&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
&#123;&#123;end&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>login.html</p>
<p><img src="https://pic.imgdb.cn/item/63f1af01f144a0100766e429.jpg" alt></p>
<h3><span id="é™æ€webæœåŠ¡">é™æ€webæœåŠ¡</span></h3>
<h4><span id="åŠ è½½æ–‡ä»¶">åŠ è½½æ–‡ä»¶</span></h4>
<p>é…ç½®webé™æ€ç›®å½•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè·¯ç”±ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ˜ å°„çš„ç›®å½•</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//é…ç½®é™æ€è·¯ç”±</span>
r<span class="token punctuation">.</span><span class="token function">Static</span><span class="token punctuation">(</span><span class="token string">"/xxxx"</span><span class="token punctuation">,</span> <span class="token string">"./static"</span><span class="token punctuation">)</span>
<span class="token comment">// å®ä¾‹</span>
r<span class="token punctuation">.</span><span class="token function">Static</span><span class="token punctuation">(</span><span class="token string">"/static"</span><span class="token punctuation">,</span> <span class="token string">"./static"</span><span class="token punctuation">)</span> <span class="token comment">//ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ˜ å°„çš„ç›®å½•</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>index.html,æˆ‘ä»¬åœ¨index.htmlä¸­å¼•å…¥è¿™ä¸ªcss</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>define <span class="token string">"default/index.html"</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
<span class="token selector">&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;title>Document&lt;/title>
    &lt;link rel="stylesheet" href="/static/css/base.css">
    &lt;!-- å¼•å…¥"static/css/base.css" -->
&lt;/head>
&lt;body></span>
    <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>template <span class="token string">"public/PageHeader.html"</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
    <span class="token selector">&lt;h1>This is Default index.html&lt;/h1>
    &lt;h2></span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>.title<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token selector">&lt;/h2></span>
    <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>template <span class="token string">"public/PageFooter.html"</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
<span class="token selector">&lt;/body>
&lt;/html></span>

<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>end<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é€šè¿‡è·¯å¾„<code>/static/css/base.css</code>è®¿é—®è¯¥CSSæ–‡ä»¶</p>
<pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">http</span><span class="token punctuation">:</span><span class="token header-value">//127.0.0.1:8080/static/css/base.css</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="https://pic.imgdb.cn/item/63f1d3a7f144a01007a1826d.jpg" alt></p>
<p>ç”±äºindex.htmlå¼•å…¥äº†è¯¥cssæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°index.htmlä¸Šçš„h1å’Œh2çš„æ ·å¼å‘ç”Ÿäº†æ”¹å˜</p>
<p><img src="https://pic.imgdb.cn/item/63f1d534f144a01007a3c8d2.jpg" alt></p>
<h4><span id="åŠ è½½å›¾ç‰‡">åŠ è½½å›¾ç‰‡</span></h4>
<p>å°†å›¾ç‰‡æ”¾ç½®åœ¨ç›®æ ‡è·¯å¾„ä¸‹ä¹‹åï¼Œåœ¨htmlä»£ç ä¸­å¼•å…¥å›¾ç‰‡</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&#123;&#123;define "default/index.html"&#125;&#125;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/static/css/base.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- å¼•å…¥"static/css/base.css"ï¼Œæ³¨æ„æœ€å¥½åœ¨æœ€å‰é¢åŠ ä¸Š'/'ï¼Œè¿™æ ·æ˜¯çªå‡ºç›®æ ‡æ–‡ä»¶å’Œæ ¹ç›®å½•çš„å…³ç³»ï¼Œä»¥å…å‡ºé”™ --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    &#123;&#123;template "public/PageHeader.html"&#125;&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>This is Default index.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>&#123;&#123;.title&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- åœ¨æ­¤å¤„æ”¾ç½®å›¾ç‰‡ --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/static/img/test.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    &#123;&#123;template "public/PageFooter.html"&#125;&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>

&#123;&#123;end&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://pic.imgdb.cn/item/63f1d6d0f144a01007a5e0c1.jpg" alt></p>
<h3><span id="ginè·å–æŸ¥è¯¢å‚æ•°">Ginè·å–æŸ¥è¯¢å‚æ•°</span></h3>
<h4><span id="query">Query</span></h4>
<p>Querystring parametersï¼ŒæŸ¥è¯¢å‚æ•°</p>
<p>ä½¿ç”¨æ–¹æ³•</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	username <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span>
	age <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span>
	page <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">DefaultQuery</span><span class="token punctuation">(</span><span class="token string">"page"</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span> <span class="token comment">//DefaultQuery(key string, defaultValue string) string</span>
	c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span>
		<span class="token string">"username"</span><span class="token punctuation">:</span> username<span class="token punctuation">,</span>
		<span class="token string">"age"</span><span class="token punctuation">:</span>      age<span class="token punctuation">,</span>
		<span class="token string">"page"</span><span class="token punctuation">:</span>     page<span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é…ç½®äº†ä¸‰ä¸ªæ¥æ”¶å‚æ•°ï¼Œ<code>uesenmae</code>,<code>age</code>,<code>page</code>ï¼Œè¯·æ±‚URL</p>
<pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">http</span><span class="token punctuation">:</span><span class="token header-value">//127.0.0.1:8080/?username=AnatomyX&amp;age=21&amp;page=17</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¿”å›</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span><span class="token property">"age"</span><span class="token operator">:</span><span class="token string">"21"</span><span class="token punctuation">,</span><span class="token property">"page"</span><span class="token operator">:</span><span class="token string">"17"</span><span class="token punctuation">,</span><span class="token property">"username"</span><span class="token operator">:</span><span class="token string">"AnatomyX"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3><span id="è·å–postå‚æ•°">è·å–POSTå‚æ•°</span></h3>
<p>æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªè·å–POSTæ•°æ®çš„è·¯ç”±(ä»¬)</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>r.GET(â€œ/userâ€, func(â€¦)) è´Ÿè´£å±•ç¤ºè®¿é—®<code>/user</code>åçš„é¡µé¢</p>
</li>
<li class="lvl-2">
<p>r.POST(â€˜/AddUserâ€™, func(xxx)) è´Ÿè´£åœ¨å“åº”äº†<code>/AddUser</code>äº‹ä»¶åï¼Œè·å–POSTæ•°æ®</p>
</li>
</ul>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//POSTæäº¤æ•°æ®,è®¿é—®/userï¼Œå¡«å†™è¡¨å•</span>
	r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/user"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">//è®¾ç½®è®¿é—®/useræ—¶æ˜¾ç¤ºçš„é¡µé¢</span>
		c<span class="token punctuation">.</span><span class="token function">HTML</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"default/user.html"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		<span class="token comment">//func (*gin.Context).HTML(code int, name string, obj any)</span>
		<span class="token comment">//æ¯æ¬¡å†™è¿™ç§æ–¹æ³•çš„æ—¶å€™å°±æ˜¯è¦æ³¨æ„å…·ä½“çš„å‚æ•°</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

	<span class="token comment">//å½“'/user'é¡µé¢ç‚¹å‡»äº†'æäº¤'åï¼Œè·å–POSTçš„æ•°æ®</span>
	r<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">"/AddUser"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//æ³¨æ„æ˜¯r.POST</span>
		<span class="token comment">//é€šè¿‡PosTForMè·å–è¡¨å•æ•°æ®</span>
		username <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">PostForm</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span> <span class="token comment">//è·å–usernameçš„æ•°æ®,èµ‹å€¼ç»™username</span>
		password <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">PostForm</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span> <span class="token comment">//è·å–passwordçš„æ•°æ®,èµ‹å€¼ç»™password</span>
		<span class="token comment">//ä»¥JSONçš„æ ¼å¼è¾“å‡º</span>
		c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span>
			<span class="token string">"username"</span><span class="token punctuation">:</span> username<span class="token punctuation">,</span>
			<span class="token string">"password"</span><span class="token punctuation">:</span> password<span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¹¶ä»¥JSONçš„æ–¹å¼è¾“å‡º</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&#123;&#123;define "default/user.html"&#125;&#125;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- å®šä¹‰ä¸€ä¸ªformè¡¨å• --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>AddUser<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- ç»‘å®šusername --></span>
        Username: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
        <span class="token comment">&lt;!-- ç»‘å®špassword --></span>
        Password: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>

&#123;&#123;end&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¿™æ ·å½“æˆ‘ä»¬åœ¨<code>/user</code>é¡µé¢å¡«å®Œè¡¨å•åï¼Œä¼šè·³è½¬åˆ°<code>/AddUser</code>è¿™ä¸ªé¡µé¢ä»¥JSONçš„æ ¼å¼è¾“å‡ºæˆ‘ä»¬åˆšåˆšPOSTæäº¤çš„æ•°æ®</p>
<p><img src="https://pic.imgdb.cn/item/63f25235f144a01007742e7f.jpg" alt></p>
<h3><span id="è·å–get-postä¼ é€’çš„æ•°æ®ç»‘å®šåˆ°ç»“æ„ä½“">è·å–GET POSTä¼ é€’çš„æ•°æ®ç»‘å®šåˆ°ç»“æ„ä½“</span></h3>
<h4><span id="cshouldbind">c.ShouldBind()</span></h4>
<p>c.ShouldBind()å¯ä»¥æ›´å¥½çš„æ§åˆ¶ç»‘å®š</p>
<p>æ”¯æŒç»‘å®š<code>urlencoded form</code>å’Œ<code>multipart form</code></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å¦‚æœæ˜¯<code>GET</code>è¯·æ±‚ï¼Œåªä½¿ç”¨<code>Form</code>ç»‘å®šå¼•æ“(<code>query</code>)</p>
</li>
<li class="lvl-2">
<p>å¦‚æœæ˜¯<code>POST</code>è¯·æ±‚ï¼Œé¦–å…ˆæ£€æŸ¥<code>content-type</code>æ˜¯å¦ä¸º<code>JSON</code>æˆ–è€…<code>XML</code>ï¼Œç„¶åå†ä½¿ç”¨<code>Form</code>ç»‘å®šåˆ°ç»“æ„ä½“</p>
</li>
</ul>
<p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªç»“æ„ä½“ï¼Œå¹¶æ‰“ä¸Šæ ‡ç­¾</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//å°†GET POSTä¼ é€’çš„æ•°æ®ç»‘å®šåˆ°ç»“æ„ä½“ - åˆ›å»ºç»“æ„ä½“</span>
<span class="token keyword">type</span> UserInfo <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	Username <span class="token builtin">string</span> <span class="token string">`json:"username" form:"username"`</span> <span class="token comment">//åˆ‡è®°ä¸è¦å†’å·":"å ç©ºä¸€æ ¼ï¼Œè¿™æ˜¯æœ‰æ ¼å¼è§„å®šçš„</span>
	Password <span class="token builtin">string</span> <span class="token string">`json:"password" form:"password"`</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¿™é‡Œä¸€å®šè¦æ³¨æ„æ ‡ç­¾çš„æ ¼å¼ï¼Œä¸è¦æ“…è‡ªåœ¨<code>:</code>ååŠ ä¸€ä¸ªç©ºæ ¼(space)</p>
<h4><span id="å°†getä¼ é€’çš„å€¼ç»‘å®šåˆ°ç»“æ„ä½“">å°†GETä¼ é€’çš„å€¼ç»‘å®šåˆ°ç»“æ„ä½“</span></h4>
<p>main.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//è·å–GETä¼ é€’çš„å€¼ç»‘å®šåˆ°ç»“æ„ä½“</span>
r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/getUser"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">//å®ä¾‹åŒ–ç»“æ„ä½“</span>
	user <span class="token operator">:=</span> <span class="token operator">&amp;</span>UserInfo<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">ShouldBind</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%#v"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span> <span class="token comment">//%#v å…ˆè¾“å‡ºç»“æ„ä½“åå­—ï¼Œå†è¾“å‡ºç»“æ„ä½“(å­—æ®µåå­—+å­—æ®µå€¼)</span>
		c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> user<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span>
			<span class="token string">"err"</span><span class="token punctuation">:</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>user.html</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&#123;&#123;define "default/user.html"&#125;&#125;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- å®šä¹‰ä¸€ä¸ªformè¡¨å• --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/getUser<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- ç»‘å®šusername --></span>
        Username: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
        <span class="token comment">&lt;!-- ç»‘å®špassword --></span>
        Password: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>

&#123;&#123;end&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4><span id="å°†postä¼ é€’çš„å€¼ç»‘å®šåˆ°ç»“æ„ä½“">å°†POSTä¼ é€’çš„å€¼ç»‘å®šåˆ°ç»“æ„ä½“</span></h4>
<p>main.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//è·å–POSTä¼ é€’çš„å€¼ç»‘å®šåˆ°ç»“æ„ä½“</span>
r<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">"/postUser"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">//å®ä¾‹åŒ–ç»“æ„ä½“</span>
	user <span class="token operator">:=</span> <span class="token operator">&amp;</span>UserInfo<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">ShouldBind</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%#v"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span>
		c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> user<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span>
			<span class="token string">"err"</span><span class="token punctuation">:</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&#123;&#123;define "default/user.html"&#125;&#125;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- å®šä¹‰ä¸€ä¸ªformè¡¨å• --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/postUser<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- ç»‘å®šusername --></span>
        Username: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
        <span class="token comment">&lt;!-- ç»‘å®špassword --></span>
        Password: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>

&#123;&#123;end&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="è·å–post-xmlçš„æ•°æ®">è·å–POST XMLçš„æ•°æ®</span></h3>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//è·å– POST XMLæ•°æ®</span>
	r<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">"/xml"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		article <span class="token operator">:=</span> <span class="token operator">&amp;</span>Article<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
		xmlSliceData<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">GetRawData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ä»c.Request.Bodyè¯»å–è¯·æ±‚æ•°æ®ï¼Œè¿”å›[]byteåˆ‡ç‰‡</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"xmlSliceData:"</span><span class="token punctuation">,</span> xmlSliceData<span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">:=</span> xml<span class="token punctuation">.</span><span class="token function">Unmarshal</span><span class="token punctuation">(</span>xmlSliceData<span class="token punctuation">,</span> <span class="token operator">&amp;</span>article<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
			<span class="token comment">// xml.Unmarshalæ¥æ”¶åˆ°çš„æ•°æ®xmlSliceDataè§£æ„ï¼ŒæŒ‰ç…§articleçš„å‚æ•°è¯»å–ï¼Œå¹¶å­˜å€¼åˆ°&amp;article</span>
			c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> article<span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span>
				<span class="token string">"err"</span><span class="token punctuation">:</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>

	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å½“æˆ‘ä»¬å‘<code>127.0.0.1/xml</code>é€šè¿‡<code>POST</code>çš„æ–¹å¼ä¼ é€’xmlçš„æ•°æ®åŒ…</p>
<h3><span id="é…ç½®åŠ¨æ€è·¯ç”±">é…ç½®åŠ¨æ€è·¯ç”±</span></h3>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// åŠ¨æ€è·¯ç”±</span>
r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/dynamicRouting/:cid"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	cid <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">"cid"</span><span class="token punctuation">)</span>
	c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"%v"</span><span class="token punctuation">,</span> cid<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¿™é‡Œé€šè¿‡<code>/:cid</code>å³è®¾ç½®äº†åŠ¨æ€è·¯ç”±ï¼Œæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹ç±»å‹è®¿é—®</p>
<pre class="line-numbers language-http" data-language="http"><code class="language-http">127.0.0.1/dynamicRouting/123
127.0.0.1/dynamicRouting/124
127.0.0.1/dynamicRouting/125<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ä¼šå¾—åˆ°ç±»ä¼¼ä»¥ä¸‹å›æ˜¾</p>
<p><img src="https://pic.imgdb.cn/item/63f33296f144a0100778a577.jpg" alt></p>
<h4><span id="åŠ¨æ€è·¯ç”±çš„é€‚ç”¨æƒ…æ™¯">åŠ¨æ€è·¯ç”±çš„é€‚ç”¨æƒ…æ™¯</span></h4>
<p>ä»¥ä¸‹å›ç­”æ¥è‡ªChatGPT</p>
<hr>
<p>åŠ¨æ€è·¯ç”±åœ¨ä»¥ä¸‹æƒ…å¢ƒä¸­éå¸¸æœ‰ç”¨ï¼š</p>
<ol>
<li class="lvl-3">
<p>å¤šç§Ÿæˆ·åº”ç”¨ç¨‹åºï¼šåœ¨å¤šç§Ÿæˆ·åº”ç”¨ç¨‹åºä¸­ï¼Œä¸åŒçš„ç§Ÿæˆ·å¯èƒ½éœ€è¦ä¸åŒçš„è·¯ç”±è§„åˆ™ï¼Œä¾‹å¦‚ä½¿ç”¨ä¸åŒçš„åŸŸåæˆ–å­åŸŸåæ¥è®¿é—®ä»–ä»¬çš„åº”ç”¨ç¨‹åºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåŠ¨æ€è·¯ç”±å¯ä»¥å…è®¸æ‚¨æ ¹æ®ç§Ÿæˆ·èº«ä»½åŠ¨æ€æ›´æ”¹è·¯ç”±è§„åˆ™ï¼Œä»è€Œä½¿è¯·æ±‚å¾—åˆ°æ­£ç¡®çš„å¤„ç†ã€‚</p>
</li>
<li class="lvl-3">
<p>A/Bæµ‹è¯•ï¼šåœ¨A/Bæµ‹è¯•æœŸé—´ï¼Œæ‚¨å¯èƒ½éœ€è¦å°†ä¸€å°éƒ¨åˆ†çš„æµé‡å¼•å¯¼åˆ°ä¸åŒçš„ä»£ç è·¯å¾„ä¸Šï¼Œä»¥æµ‹è¯•æ–°åŠŸèƒ½æˆ–æ”¹è¿›ã€‚åŠ¨æ€è·¯ç”±å…è®¸æ‚¨æ ¹æ®ç”¨æˆ·IDã€IPåœ°å€æˆ–å…¶ä»–æ ‡è¯†ç¬¦å°†æµé‡è·¯ç”±åˆ°ä¸åŒçš„ä»£ç è·¯å¾„ä¸Šï¼Œä»¥è¿›è¡Œæµ‹è¯•æˆ–å®éªŒã€‚</p>
</li>
<li class="lvl-3">
<p>è´Ÿè½½å‡è¡¡ï¼šåŠ¨æ€è·¯ç”±è¿˜å¯ä»¥ç”¨äºè´Ÿè½½å‡è¡¡ã€‚æ‚¨å¯ä»¥æ ¹æ®æœåŠ¡å™¨çš„å¯ç”¨æ€§æˆ–è´Ÿè½½æƒ…å†µæ¥åŠ¨æ€æ›´æ”¹è·¯ç”±è§„åˆ™ï¼Œä»è€Œå°†æµé‡å‡è¡¡åˆ†é…åˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šã€‚</p>
</li>
<li class="lvl-3">
<p>åŠ¨æ€APIç½‘å…³ï¼šåœ¨APIç½‘å…³ä¸­ï¼ŒåŠ¨æ€è·¯ç”±å¯ç”¨äºæ ¹æ®ä¸åŒçš„URLè·¯å¾„ã€HTTPæ–¹æ³•æˆ–å…¶ä»–æ ‡è¯†ç¬¦å°†è¯·æ±‚è·¯ç”±åˆ°ä¸åŒçš„åç«¯æœåŠ¡ä¸Šã€‚è¿™ç§åŠ¨æ€è·¯ç”±çš„çµæ´»æ€§ä½¿å¾—APIç½‘å…³å¯ä»¥é€‚åº”å¿«é€Ÿå˜åŒ–çš„éœ€æ±‚å’Œä¸æ–­æ‰©å±•çš„åç«¯æœåŠ¡ã€‚</p>
</li>
</ol>
<p>æ€»ä¹‹ï¼ŒåŠ¨æ€è·¯ç”±å¯ä»¥ä½¿æ‚¨æ ¹æ®éœ€è¦åŠ¨æ€åœ°æ›´æ”¹è·¯ç”±è§„åˆ™ï¼Œä»è€Œä½¿æ‚¨çš„åº”ç”¨ç¨‹åºæ›´åŠ çµæ´»å’Œå¯æ‰©å±•ã€‚</p>
<hr>
<h3><span id="è·¯ç”±åˆ†ç»„-è·¯ç”±æ–‡ä»¶æŠ½ç¦»">è·¯ç”±åˆ†ç»„ | è·¯ç”±æ–‡ä»¶æŠ½ç¦»</span></h3>
<p>main.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"RoutingGroupandRouting/routers"</span>

	<span class="token string">"github.com/gin-gonic/gin"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">//åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„è·¯ç”±å¼•æ“</span>
	r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	routers<span class="token punctuation">.</span><span class="token function">DefaultRoutersInit</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
	routers<span class="token punctuation">.</span><span class="token function">AdminRoutersInit</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
	routers<span class="token punctuation">.</span><span class="token function">ApiRoutersInit</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
	r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>/routers/defaultRouters.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> routers

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"net/http"</span>

	<span class="token string">"github.com/gin-gonic/gin"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">DefaultRoutersInit</span><span class="token punctuation">(</span>r <span class="token operator">*</span>gin<span class="token punctuation">.</span>Engine<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	defaultRouters <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		defaultRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"this is defaultRouters's home page"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		defaultRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/news"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"this is defaultRouters's news page"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		defaultRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/article"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"this is defaultRouters's article page"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>/routers/adminRouters.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> routers

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"net/http"</span>

	<span class="token string">"github.com/gin-gonic/gin"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">AdminRoutersInit</span><span class="token punctuation">(</span>r <span class="token operator">*</span>gin<span class="token punctuation">.</span>Engine<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	adminRouters <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"this is admin's home page"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"this is admin's users page"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/article"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"this is admin's article page"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>/router/apiRouters</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> routers

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"net/http"</span>

	<span class="token string">"github.com/gin-gonic/gin"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">ApiRoutersInit</span><span class="token punctuation">(</span>r <span class="token operator">*</span>gin<span class="token punctuation">.</span>Engine<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	apiRouter <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">"/api"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		apiRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"this is the api's home page"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		apiRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"this is users' api page"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		apiRouter<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"this is admin's api page"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="æ§åˆ¶å™¨æŠ½ç¦»">æ§åˆ¶å™¨æŠ½ç¦»</span></h3>
<p>è¿™é‡Œåªç®€å•åˆ›å»ºäº†ä¸€ä¸ªæ§åˆ¶å™¨æŠ½ç¦»çš„æƒ…å†µ</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">â”œâ”€controllers
â”‚  â”œâ”€admin
â”‚  â”‚      userController.go
â”‚  â”‚
â”‚  â”œâ”€api
â”‚  â””â”€frontEnd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æˆ‘ä»¬åˆ›å»ºæ”¾ç½®æ§åˆ¶å™¨çš„æ–‡ä»¶å¤¹<code>controllers</code>ï¼Œä¸‹æ–¹ä¾æ¬¡æ ¹æ®æ§åˆ¶å™¨çš„ä»å±å…³ç³»å’Œä½œç”¨åˆ›å»ºæ–‡ä»¶å¤¹å’Œæ§åˆ¶å™¨goæ–‡ä»¶ï¼Œä¾‹å¦‚è¿™é‡ŒåªæŠ½ç¦»äº†adminä¸­userç›¸å…³çš„æ§åˆ¶å™¨</p>
<p>RoutingGroupandRouting/controllers/admin/userController.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> admin

<span class="token keyword">import</span> <span class="token string">"github.com/gin-gonic/gin"</span>

<span class="token keyword">func</span> <span class="token function">UserShow</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"this is show user function"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">UserAdd</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"this is add user function"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">UserArticle</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"this is user's article function"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>adminRouters.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> routers

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"RoutingGroupandRouting/controllers/admin"</span>
	<span class="token string">"net/http"</span>

	<span class="token string">"github.com/gin-gonic/gin"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">AdminRoutersInit</span><span class="token punctuation">(</span>r <span class="token operator">*</span>gin<span class="token punctuation">.</span>Engine<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	adminRouters <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"this is admin's home page"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>UserShow<span class="token punctuation">)</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/article"</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>UserArticle<span class="token punctuation">)</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/useradd"</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>UserAdd<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è·¯ç”±åˆ†ç»„ã€è·¯ç”±æ–‡ä»¶æŠ½ç¦»ã€æ§åˆ¶å™¨æŠ½ç¦»ï¼Œè¿™äº›éƒ½æ˜¯ä¸ºäº†æ–¹ä¾¿å°ç»„å¼€å‘ï¼Œæ¯•ç«Ÿå¦‚æœé¡¹ç›®å¾ˆå¤§æ˜¯ä¸å¯èƒ½ä¸€ä¸ªäººå¼€å‘å®Œçš„ã€‚å¦‚æœå…¨éƒ¨å†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œå¤šäººå¼€å‘èµ·æ¥å°±æ˜¯ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰<code>è·¯ç”±æ–‡ä»¶æŠ½ç¦»</code>ï¼Œ<code>æ§åˆ¶å™¨æŠ½ç¦»</code>ç­‰ï¼Œè®©å¤–éƒ¨æ–‡ä»¶é‡Œé¢çš„æ–¹æ³•æ¥å¤„ç†å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘</p>
<p><img src="https://pic.imgdb.cn/item/63f3708ff144a01007dde0a1.jpg" alt></p>
<h3><span id="æ§åˆ¶å™¨ç»§æ‰¿">æ§åˆ¶å™¨ç»§æ‰¿</span></h3>
<p>userController.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// æ§åˆ¶å™¨ç»§æ‰¿</span>
<span class="token keyword">type</span> UserController <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>con UserController<span class="token punctuation">)</span> <span class="token function">Show</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"this is show user function"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>adminRouters.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>UserController<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">.</span>Show<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç”¨ç»“æ„ä½“æ¥å®ç°æ§åˆ¶å™¨çš„ç»§æ‰¿è¿™ç§æ–¹æ³•å®åˆ™æ˜¯æ¨¡æ‹Ÿå¤§å‹é¡¹ç›®çš„ç›®å½•è§„èŒƒåŒ–</p>
<h3><span id="ginä¸­é—´ä»¶">Ginä¸­é—´ä»¶</span></h3>
<p>Ginæ¡†æ¶å…è®¸å¼€å‘è€…åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼ŒåŠ å…¥è‡ªå·±çš„hookå‡½æ•°ï¼Œè¿™ä¸ªhookå‡½æ•°å°±å«ä¸­é—´ä»¶ï¼Œä¸­é—´ä»¶é€‚åˆå¤„ç†ä¸€äº›å…¬å…±çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚ç™»å½•è®¤è¯ï¼Œæƒé™æ ¡éªŒï¼Œæ•°æ®åˆ†é¡µï¼Œè®°å½•æ—¥å¿—ï¼Œè€—æ—¶ç»Ÿè®¡ç­‰ç­‰</p>
<p>é€šä¿—çš„è®²ï¼šä¸­é—´ä»¶å°±æ˜¯åŒ¹é…è·¯ç”±å‰å’ŒåŒ¹é…è·¯ç”±å®Œæˆåæ‰§è¡Œçš„ä¸€ç³»åˆ—æ“ä½œ</p>
<p>adminRouters.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> routers

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"RoutingGroupandRouting/controllers/admin"</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"net/http"</span>

	<span class="token string">"github.com/gin-gonic/gin"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">initMiddleware</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"this is initMiddleware"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span> <span class="token comment">//æˆ‘ä»¬åœ¨æ­¤å¤„å®šä¹‰äº†ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ï¼Œæ”¾åœ¨ä¸‹æ–‡è·¯ç”±è¯·æ±‚çš„å‰é¢ï¼Œè¿™æ ·åœ¨è¯·æ±‚è·¯ç”±ä¹‹å‰å°±ä¼šæ‰§è¡Œä¸­é—´ä»¶å‡½æ•°</span>

<span class="token keyword">func</span> <span class="token function">AdminRoutersInit</span><span class="token punctuation">(</span>r <span class="token operator">*</span>gin<span class="token punctuation">.</span>Engine<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	adminRouters <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> initMiddleware<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"this is admin's home page"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">,</span> initMiddleware<span class="token punctuation">,</span> admin<span class="token punctuation">.</span>UserController<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">.</span>Show<span class="token punctuation">)</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/article"</span><span class="token punctuation">,</span> initMiddleware<span class="token punctuation">,</span> admin<span class="token punctuation">.</span>UserArticle<span class="token punctuation">)</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/useradd"</span><span class="token punctuation">,</span> initMiddleware<span class="token punctuation">,</span> admin<span class="token punctuation">.</span>UserAdd<span class="token punctuation">)</span>
		adminRouters<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/error"</span><span class="token punctuation">,</span> initMiddleware<span class="token punctuation">,</span> admin<span class="token punctuation">.</span>UserController<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">.</span>Error<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://pic.imgdb.cn/item/63f386d5f144a01007183857.jpg" alt></p>
<h3><span id="æ–‡ä»¶ä¸Šä¼ ">æ–‡ä»¶ä¸Šä¼ </span></h3>
<p>main.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// æœ¬ä»£ç å±•ç¤ºäº†Ginä¸­çš„æ–‡ä»¶ä¸Šä¼ </span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"log"</span>
	<span class="token string">"net/http"</span>
	<span class="token string">"path"</span>

	<span class="token string">"github.com/gin-gonic/gin"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// ä¸ºmultipart formsè®¾ç½®è¾ƒä½çš„å†…å­˜é™åˆ¶(é»˜è®¤32MiB)</span>
	r<span class="token punctuation">.</span>MaxMultipartMemory <span class="token operator">=</span> <span class="token number">8</span> <span class="token operator">&lt;&lt;</span> <span class="token number">20</span>

	<span class="token comment">//åˆ‡è®°è¦åŠ è½½æ¨¡æ¿</span>
	r<span class="token punctuation">.</span><span class="token function">LoadHTMLGlob</span><span class="token punctuation">(</span><span class="token string">"template/**/*"</span><span class="token punctuation">)</span>

	r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		c<span class="token punctuation">.</span><span class="token function">HTML</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"web/index.html"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

	r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/upload"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		c<span class="token punctuation">.</span><span class="token function">HTML</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"web/upload.html"</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

	r<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">"/uploadFile"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">//é€šè¿‡PostFormè·å–ä¼ è¿‡æ¥çš„username</span>
		username <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">PostForm</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span>
		<span class="token comment">//é€šè¿‡FormFileè·å–ä¼ è¿‡æ¥çš„fileæ–‡ä»¶</span>
		file<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">FormFile</span><span class="token punctuation">(</span><span class="token string">"avatar"</span><span class="token punctuation">)</span> <span class="token comment">//è¿”å›ä¸¤ä¸ªå‚æ•°ï¼Œ*multipart.FileHeader, error</span>
		log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>Filename<span class="token punctuation">)</span>

		dst <span class="token operator">:=</span> path<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">"./static/uploadfile"</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span>Filename<span class="token punctuation">)</span> <span class="token comment">//è®¾ç½®ä¿å­˜è·¯å¾„</span>
		c<span class="token punctuation">.</span><span class="token function">SaveUploadedFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> dst<span class="token punctuation">)</span>
		<span class="token comment">// c.String(http.StatusOK, fmt.Sprintf("'%s' uploaded!", file.Filename))</span>
		c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span>
			<span class="token string">"success"</span><span class="token punctuation">:</span>  <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token string">"username"</span><span class="token punctuation">:</span> username<span class="token punctuation">,</span>
			<span class="token string">"dst"</span><span class="token punctuation">:</span>      dst<span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

		<span class="token comment">//å¯ä»¥åœ¨å†™å®Œæ•´çš„ä¸šåŠ¡ä»£ç ä¹‹å‰çœ‹çœ‹æ˜¯å¦é¡µé¢ä¼šè·³è½¬åˆ°æ­¤å¤„ï¼Œç»è¿‡æ£€éªŒæ˜¯æ²¡æœ‰é—®é¢˜çš„</span>
		<span class="token comment">// c.String(200, "Upload successfully")</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

	r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>upload.html</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&#123;&#123;define "web/upload.html"&#125;&#125;

<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>this is an upload page !<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- action: æäº¤åæ‰§è¡Œçš„å‡½æ•° --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/uploadFile<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>multipart/form-data<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
     <span class="token comment">&lt;!--æ³¨æ„è¿™é‡Œçš„enctypeå‚æ•°--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
        ç”¨æˆ·åï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç”¨æˆ·å<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- placeholder: å¯æè¿°è¾“å…¥å­—æ®µé¢„æœŸå€¼çš„ç®€çŸ­çš„æç¤ºä¿¡æ¯ï¼Œè¯¥æç¤ºåœ¨ç”¨æˆ·è¾“å…¥å€¼ä¹‹å‰æ˜¾ç¤ºåœ¨è¾“å…¥å­—æ®µä¸­ --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
        å¤´åƒï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>avatar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>

&#123;&#123;end&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¸©å‘ï¼šä¸€å®šè¦æ³¨æ„åœ¨æ•²å‰ç«¯æ–‡ä»¶(html)çš„æ—¶å€™ç»™ä¸€äº›æ•°æ®å‘½åæˆäº†ä»€ä¹ˆï¼Œæ¯”å¦‚ä¸Šæ–‡<code>upload.html</code>è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œç¬”è€…ç»™<code>å¤´åƒæ–‡ä»¶</code>å‘½åä¸ºäº†<code>avatar</code>ï¼Œè¿™æ ·åœ¨ä¼ é€’æ•°æ®çš„æ—¶å€™ï¼Œå¤´åƒè¿™ä¸ªæ–‡ä»¶å…¶å®åº”è¯¥ç”¨<code>avatar</code>æ¥æ¥æ”¶ï¼Œä½†æ˜¯ç¬”è€…ä¸€ç›´ç”¨çš„<code>file</code>ï¼Œå¯¼è‡´ä¸€ç›´æŠ¥é”™ï¼Œå¯èƒ½æ˜¯ç¬”è€…å‰ç«¯å­¦çš„å®åœ¨æ˜¯ä¾æ‰˜ç­”è¾©çš„åŸå› </p>
<p><img src="https://pic.imgdb.cn/item/63f4e8d6f144a01007f64992.jpg" alt></p>
<h4><span id="htmlä¸­çš„enctype">htmlä¸­çš„enctype</span></h4>
<p>ä¸ºä»€ä¹ˆè¯´åœ¨æ–‡ä»¶ä¸Šä¼ ä¸­<code>enctype</code>è¿™ä¸ªå‚æ•°å¾ˆé‡è¦ï¼Œå› ä¸ºhtmlè¡¨å•å¦‚ä½•æ‰“åŒ…æ•°æ®æ–‡ä»¶æ˜¯å–å†³äº<code>enctype</code></p>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>application/x-www-form-urlencoded</code> ï¼šåœ¨å‘é€å‰ç¼–ç æ‰€æœ‰å­—ç¬¦(é»˜è®¤)ï¼ˆç©ºæ ¼è¢«ç¼–ç ä¸ºâ€˜+â€™ï¼Œç‰¹æ®Šå­—ç¬¦è¢«ç¼–ç ä¸ºASCIIåå…­è¿›åˆ¶å­—ç¬¦ï¼‰</p>
</li>
<li class="lvl-2">
<p><code>multipart/form-data</code>ï¼šä¸å¯¹å­—ç¬¦ç¼–ç ï¼Œåœ¨ä½¿ç”¨åŒ…å«æ–‡ä»¶ä¸Šä¼ æ§ä»¶çš„è¡¨å•æ—¶å¿…é¡»ä½¿ç”¨</p>
</li>
<li class="lvl-2">
<p><code>text/plain</code>ï¼šç©ºæ ¼æ›¿æ¢ä¸ºâ€˜+â€™å·ï¼Œä½†ä¸å¯¹ç‰¹æ®Šå­—ç¬¦ç¼–ç </p>
</li>
</ul>
<p>æ‰€ä»¥å¦‚æœæ¶‰åŠåˆ°ä¸Šä¼ æ–‡ä»¶çš„è¯ï¼Œéœ€è¦åœ¨å®šä¹‰è¡¨å•æ—¶åŠ ä¸ªå‚æ•°<code>enctype=multipart/form-data</code></p>
<h4><span id="æ ¹æ®æ—¶é—´å­˜å‚¨æ–‡ä»¶">æ ¹æ®æ—¶é—´å­˜å‚¨æ–‡ä»¶</span></h4>
<p>åªéœ€è¦åœ¨ä¸Šè¿°çš„<code>main.go</code>ä»£ç ä¸­çš„å­˜å‚¨æ–‡ä»¶åéƒ¨åˆ†åŠ ä¸Šè®¡ç®—å½“å‰æ—¶é—´çš„æ­¥éª¤å³å¯</p>
<p>main.go - /uploadFile POST</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">r<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">"/uploadFile"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">//é€šè¿‡PostFormè·å–ä¼ è¿‡æ¥çš„username</span>
		username <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">PostForm</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span>
		<span class="token comment">//é€šè¿‡FormFileè·å–ä¼ è¿‡æ¥çš„fileæ–‡ä»¶</span>
		file<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">FormFile</span><span class="token punctuation">(</span><span class="token string">"avatar"</span><span class="token punctuation">)</span> <span class="token comment">//è¿”å›ä¸¤ä¸ªå‚æ•°ï¼Œ*multipart.FileHeader, error</span>
		log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>Filename<span class="token punctuation">)</span>
		folderName <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"%d-%d-%d"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Month</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Day</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		dst <span class="token operator">:=</span> path<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">"./static/uploadfile"</span><span class="token punctuation">,</span> folderName<span class="token punctuation">,</span> file<span class="token punctuation">.</span>Filename<span class="token punctuation">)</span> <span class="token comment">//è®¾ç½®ä¿å­˜è·¯å¾„</span>
		c<span class="token punctuation">.</span><span class="token function">SaveUploadedFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> dst<span class="token punctuation">)</span>
		<span class="token comment">// c.String(http.StatusOK, fmt.Sprintf("'%s' uploaded!", file.Filename))</span>
		c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">&#123;</span>
			<span class="token string">"success"</span><span class="token punctuation">:</span>  <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token string">"username"</span><span class="token punctuation">:</span> username<span class="token punctuation">,</span>
			<span class="token string">"dst"</span><span class="token punctuation">:</span>      dst<span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

		<span class="token comment">//å¯ä»¥åœ¨å†™å®Œæ•´çš„ä¸šåŠ¡ä»£ç ä¹‹å‰çœ‹çœ‹æ˜¯å¦é¡µé¢ä¼šè·³è½¬åˆ°æ­¤å¤„ï¼Œç»è¿‡æ£€éªŒæ˜¯æ²¡æœ‰é—®é¢˜çš„</span>
		<span class="token comment">// c.String(200, "Upload successfully")</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://pic.imgdb.cn/item/63f4f561f144a010070c1663.jpg" alt></p>
<p><img src="https://pic.imgdb.cn/item/63f4fcfaf144a0100717150e.jpg" alt></p>
<p>è¿™æ ·å°±å¯ä»¥çœ‹åˆ°æ¥æ”¶åˆ°äº†ä¸Šä¼ çš„æ–‡ä»¶ï¼Œå¹¶ä¸”å­˜å‚¨åœ¨ä»¥å½“å¤©æ—¥æœŸå‘½åçš„æ–‡ä»¶å¤¹ä¸­</p>
<h3><span id="cookie">Cookie</span></h3>
<p>Httpæ˜¯æ— çŠ¶æ€åè®®ï¼Œå³å‡å¦‚å¤šæ¬¡è®¿é—®åŒä¸€ä¸ªç½‘ç«™ï¼Œæ¯ä¸€æ¬¡ä¹‹é—´çš„è®¿é—®éƒ½æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è¦å®ç°å¤šä¸ªé¡µé¢ä¹‹é—´å…±äº«æ•°æ®çš„è¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>Cookie</code>æˆ–è€…<code>Session</code>å®ç°</p>
<p><code>Cookie</code>å­˜å‚¨äºè®¿é—®è€…è®¡ç®—æœºçš„<code>æµè§ˆå™¨</code>ä¸­ï¼Œå¯ä»¥è®©æˆ‘ä»¬ç”¨åŒä¸€ä¸ªæµè§ˆå™¨è®¿é—®åŒä¸€ä¸ªåŸŸåçš„æ—¶å€™å…±äº«æ•°æ®</p>
<h4><span id="cookieå®ç°çš„åŠŸèƒ½">Cookieå®ç°çš„åŠŸèƒ½</span></h4>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä¿æŒç”¨æˆ·ç™»å½•ç™»å½•çŠ¶æ€</p>
</li>
<li class="lvl-2">
<p>ä¿æŒç”¨æˆ·æµè§ˆå†å²è®°å½•</p>
</li>
<li class="lvl-2">
<p>çŒœä½ å–œæ¬¢ï¼Œæ™ºèƒ½æ¨è</p>
</li>
<li class="lvl-2">
<p>ç”µå•†ç½‘ç«™åŠ å…¥è´­ç‰©è½¦</p>
</li>
</ul>
<p>è®¾ç½®Cookie</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">c<span class="token punctuation">.</span><span class="token function">SetCookie</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">,</span> <span class="token number">3600</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è·å–Cookie</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">c<span class="token punctuation">.</span><span class="token function">Cookie</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span>
<span class="token comment">//å¦‚</span>
username <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Cookie</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"cookie="</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="å¤šä¸ªäºŒçº§åŸŸåå…±äº«cookie">å¤šä¸ªäºŒçº§åŸŸåå…±äº«Cookie</span></h3>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">c<span class="token punctuation">.</span><span class="token function">SetCookie</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">,</span> <span class="token number">3600</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token string">".xxxxx.com"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>é€šè¿‡è®¾ç½®ä½œç”¨åŸŸä¸º<code>.xxxxx</code>è¿™æ ·å³å¯åœ¨<code>a.xxxxx</code>å’Œ<code>b.xxxxx</code>å…±äº«Cookie</p>
<h3><span id="session">Session</span></h3>
<p>ç”±äºhttpåè®®æ— çŠ¶æ€ï¼Œå½“å¤šä¸ªäººåœ¨è¯·æ±‚æœåŠ¡å™¨çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨å¹¶ä¸èƒ½åˆ†è¾¨è°æ˜¯è°(é™¤éæºå¸¦äº†ä¸€äº›è¯†åˆ«å­—æ®µï¼Œä¸è¿‡è¿™å±äºä¸šåŠ¡å±‚å†…å®¹ï¼Œä¸åœ¨è®¨è®ºèŒƒå›´ï¼Œè¿™é‡Œå•è¯´httpåè®®)</p>
<p>ä¸ºäº†è®©æœåŠ¡å™¨çŸ¥é“è¯·æ±‚æ˜¯è°å‘å‡ºçš„ï¼Œæ‰€ä»¥æœ‰äº†session</p>
<p>å¦å¤–<code>session</code>å’Œ<code>cookie</code>æ˜¯ä¸åˆ†å®¶çš„ï¼Œæˆ‘ä»¬æ¯æ¬¡è¯´åˆ°<code>session</code>ï¼Œå…¶å®é»˜è®¤å°±æ˜¯è¦ä½¿ç”¨<code>cookie</code>äº†</p>
<blockquote>
<p>ç¬¬ä¸€æ¬¡ç™»é™†ï¼ŒæœåŠ¡å™¨ç»™å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªå”¯ä¸€çš„sessionidï¼Œå¹¶é€šè¿‡httpçš„å“åº”å¤´è¿”å›ã€‚</p>
<p>å®¢æˆ·ç«¯(æµè§ˆå™¨)å‘ç°è¿”å›çš„æ•°æ®ä¸­æœ‰cookieæ•°æ®å°±æŠŠè¿™ä¸ªcookieæ•°æ®å­˜æ”¾åˆ°å†…å­˜ã€‚ä¸‹æ¬¡å†å‘é€httpè¯·æ±‚ï¼Œå°±æŠŠå†…å­˜ä¸­çš„cookieæ•°æ®å¡å›httpè¯·æ±‚å¤´ä¸­ï¼Œä¸€å¹¶å‘ç»™æœåŠ¡å™¨ã€‚</p>
<p>æœåŠ¡å™¨åœ¨è§£æè¯·æ±‚æ—¶ï¼Œå‘ç°è¯·æ±‚å¤´ä¸­æœ‰cookieï¼Œå°±å¼€å§‹è¯†åˆ«cookieä¸­çš„sessionidï¼Œæ‹¿åˆ°sessionidï¼Œæˆ‘ä»¬å°±çŸ¥é“è¿™ä¸ªè¯·æ±‚æ˜¯ç”±å“ªä¸ªå®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„äº†</p>
</blockquote>
<p>Ginä¸­éœ€è¦ä½¿ç”¨Sessionä¸­é—´ä»¶æ¥å®ç°Sessionçš„åŠŸèƒ½</p>
<p>éœ€è¦å¼•å…¥<code>github.com/gin-contrib/sessions</code>è¿™ä¸ªåŒ…</p>
<p>main.go</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"github.com/gin-contrib/sessions"</span>
	<span class="token string">"github.com/gin-contrib/sessions/cookie"</span>
<span class="token punctuation">)</span>
	
	<span class="token comment">//åˆ›å»ºåŸºäºCookieçš„å­˜å‚¨å¼•æ“,"secret"å‚æ•°æ˜¯ç”¨äºåŠ å¯†çš„å¯†é’¥</span>
	store <span class="token operator">:=</span> cookie<span class="token punctuation">.</span><span class="token function">NewStore</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"secret"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token comment">//é…ç½®Sessionä¸­é—´ä»¶</span>
	r<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span>sessions<span class="token punctuation">.</span><span class="token function">Sessions</span><span class="token punctuation">(</span><span class="token string">"mySession"</span><span class="token punctuation">,</span> store<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token operator">...</span>



	r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/sessionSet"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		session <span class="token operator">:=</span> sessions<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
		session<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">)</span>
		session<span class="token punctuation">.</span><span class="token function">Save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ä¸€å®šè¦ä¿å­˜</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

	r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/sessionShow"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		session <span class="token operator">:=</span> sessions<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
		username <span class="token operator">:=</span> session<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span>
		c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">"username = %v"</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>sessionçš„é»˜è®¤è¿‡æœŸæ—¶é—´æ˜¯30å¤©ï¼Œå¯ä»¥é€šè¿‡<code>session.Options(sessions.Options&#123; MaxAge: 3600 * 6, //6hrs &#125;)</code>è®¾ç½®Sessionè¿‡æœŸæ—¶é—´ï¼ŒMaxAgeå•ä½æ˜¯<code>s</code></p>
<p>sessionä¼šä¿å­˜åœ¨æœåŠ¡å™¨</p>
<p>ä½†æ˜¯ä»…ä»…è¿™æ ·ï¼Œå½“æˆ‘ä»¬åœ¨ä½¿ç”¨åˆ†å¸ƒå¼(è´Ÿè½½å‡è¡¡)çš„æ—¶å€™ï¼Œå…¶ä»–çš„æœåŠ¡å™¨æ˜¯æ— æ³•åˆ›å»ºå’Œè·å–Sessionçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†Sessionä¿å­˜åœ¨redisæˆ–è€…mongodbæˆ–è€…mysqlä¸­</p>
<h4><span id="å…³äºä¸ºä»€ä¹ˆè°ƒç”¨sessiondeleteæˆ–è€…sessionclearåsessionä»åœ¨">å…³äºä¸ºä»€ä¹ˆè°ƒç”¨session.Delete()æˆ–è€…session.Clear()åsessionä»åœ¨</span></h4>
<p>è¿™æ˜¯å› ä¸ºè°ƒç”¨äº†Sessionçš„æ–¹æ³•å¦‚<code>Set</code>,<code>Delete</code>,<code>Clear</code>åï¼Œå¿…é¡»è°ƒç”¨ä¸€æ¬¡<code>Save</code>æ–¹æ³•ï¼Œå¦åˆ™Sessionæ•°æ®ä¸ä¼šæ›´æ–°ï¼Œ<s>ç¬”è€…åˆèººåœ¨è¿™ä¸ªå‘é‡Œé¢å¥½ä¹…</s></p>
<h4><span id="ä¿å­˜åˆ°redisæ•°æ®åº“å®ç°åˆ†å¸ƒå¼session">ä¿å­˜åˆ°redisæ•°æ®åº“å®ç°åˆ†å¸ƒå¼Session</span></h4>
<p>å°†ä¸Šæ–‡ä¸­<code>åˆ›å»ºåŸºäºCookieçš„å­˜å‚¨å¼•æ“</code>çš„ä»£ç ä¿®æ”¹ä¸ºå¦‚ä¸‹å³å¯</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//åˆ›å»ºåŸºäºRedisçš„å­˜å‚¨å¼•æ“</span>
store<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> redis<span class="token punctuation">.</span><span class="token function">NewStore</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"localhost:6379"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"secret"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>10è¡¨ç¤ºæœ€å¤§è¿æ¥æ•°,tcpè¡¨ç¤ºè¿æ¥æ–¹æ³•ï¼Œlocalhost:6379è¡¨ç¤ºæœåŠ¡ç«¯å£,&quot;&quot;è¡¨ç¤ºå¯†ç ,æ­¤å¤„å¯†ç ä¸ºç©º,[]byte(â€œsecretâ€)è¡¨ç¤ºç”¨äºåŠ å¯†çš„å¯†é’¥</p>
<p><img src="https://pic.imgdb.cn/item/63f5c680f144a010070a99ce.jpg" alt></p>
<p>å¯ä»¥çœ‹åˆ°ä¹‹å‰redisé‡Œé¢ä¸ºç©ºï¼Œæˆ‘ä»¬è®¿é—®äº†<code>127.0.0.1/setSession</code>åï¼Œredisé‡Œå­˜å…¥äº†ä¸€æ¡æ•°æ®ï¼Œå³ä¸ºsession</p>
<h4><span id="ä½¿ç”¨sessionsä¸­é—´ä»¶æ³¨æ„è¦ç‚¹">ä½¿ç”¨sessionsä¸­é—´ä»¶æ³¨æ„è¦ç‚¹</span></h4>
<ul class="lvl-0">
<li class="lvl-2">
<p>sessionä»“åº“å…¶å®å°±æ˜¯ä¸€ä¸ª<code>map[interface]interface</code>å¯¹è±¡ï¼Œæ‰€æœ‰sessionå¯ä»¥å­˜å‚¨ä»»æ„æ•°æ®</p>
</li>
<li class="lvl-2">
<p>sessionä½¿ç”¨çš„ç¼–ç è§£ç å™¨æ˜¯è‡ªå¸¦çš„gobï¼Œæ‰€ä»¥å­˜å‚¨ç±»ä¼¼:<code>struct</code>,<code>map</code>è¿™äº›å¯¹è±¡æ—¶éœ€è¦å…ˆæ³¨å†Œå¯¹è±¡ï¼Œå¦åˆ™ä¼šæŠ¥é”™<code>gob&quot;type not registered for...</code></p>
<ul class="lvl-2">
<li class="lvl-4">sessionå­˜å‚¨å¼•æ“æ”¯æŒ<code>cookie</code>,<code>å†…å­˜</code>,<code>mongodb</code>,<code>redis</code>,<code>postgres</code>,<code>memsotre</code>,<code>memcached</code>ä»¥åŠ<code>gorm</code>æ”¯æŒçš„å„ç±»æ•°æ®åº“<code>mysql,sqlite</code></li>
<li class="lvl-4">sessionåœ¨åˆ›å»ºæ—¶æœ‰ä¸€ä¸ªé…ç½®é¡¹ï¼Œå¯ä»¥é…ç½®sessionè¿‡æœŸæ—¶é—´,cookie,domain,secure,pathç­‰å‚æ•°</li>
</ul>
</li>
</ul>

  <p><a class="classtest-link" href="/tags/Gin/" rel="tag">Gin</a> â€” Oct 19, 2023</p>
  


        </div>
        <div class="row mt-2">
  <h3>Search</h3>
  <div><input id="search-text" title="search" class="search-text" type="text" placeholder="search......"></div>
  <div style="margin-top: 1.5rem;">
    <ul id="result"></ul>
  </div>
</div>
        <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith">Made with â¤ and
        <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration: none;" rel="noreferrer" aria-label="Hexo.io">
        <svg class="hexo svg-hov" width="14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg>
        </a>
        
        at <a href="https://en.wikipedia.org/wiki/Earth" target="_blank" rel="noreferrer">Earth</a>.</p>
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi" >
      
      <a class="ml-0 footer-link icon" href="https://github.com/Mykonos-x" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      

      
      <a class="ml-0 footer-link icon" href="https://twitter.com/mykonos_x" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="Twitter">
        <svg class="twitter svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/></svg>
      </a>
      

      

      

    </div>
  
</div>

      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>

  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>